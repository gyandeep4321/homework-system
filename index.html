<!DOCTYPE html>
<html>
<head>
  <title>Digital Homework System</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body{
      font-family: Arial, sans-serif;
      background:#f2f2f2;
      padding:20px;
    }

    .box{
      max-width:500px;
      margin:auto;
      background:white;
      padding:20px;
      border-radius:10px;
      box-shadow:0 0 10px #ccc;
    }

    h2{
      text-align:center;
    }

    input, textarea, button{
      width:100%;
      margin:8px 0;
      padding:10px;
      font-size:16px;
    }

    button{
      background:green;
      color:white;
      border:none;
      cursor:pointer;
    }

    button:hover{
      background:darkgreen;
    }

    #msg{
      text-align:center;
      font-weight:bold;
      margin-top:10px;
    }
  </style>
</head>

<body>

  <div class="box">

    <h2>Homework Submission</h2>

    <input type="text" id="name" placeholder="Student Name" required>

    <input type="text" id="class" placeholder="Class" required>

    <input type="text" id="section" placeholder="Section" required>

    <input type="text" id="subject" placeholder="Subject" required>

    <textarea id="homework" placeholder="Homework" required></textarea>

    <button onclick="submitData()">Submit</button>

    <div id="msg"></div>

  </div>


<script>

const API_URL = "https://script.google.com/macros/s/AKfycbxUgJ128UkvgkK8gAjr3Wijs5uLF2_SziiR3ShFoWW7EN79-fCoa0_Ap7C6r1detzrdFA/exec";

function submitData(){

  let name = document.getElementById("name").value;
  let cls = document.getElementById("class").value;
  let section = document.getElementById("section").value;
  let subject = document.getElementById("subject").value;
  let homework = document.getElementById("homework").value;


  if(name=="" || cls=="" || section=="" || subject=="" || homework==""){
    alert("Please fill all fields");
    return;
  }


  document.getElementById("msg").innerHTML="Submitting...";


  fetch(API_URL,{
    method:"POST",
    body: JSON.stringify({
      name:name,
      class:cls,
      section:section,
      subject:subject,
      homework:homework
    })
  })
  .then(res=>res.json())
  .then(data=>{

    if(data.status=="success"){

      document.getElementById("msg").innerHTML="✅ Submitted Successfully";

      document.getElementById("name").value="";
      document.getElementById("class").value="";
      document.getElementById("section").value="";
      document.getElementById("subject").value="";
      document.getElementById("homework").value="";

    }else{

      document.getElementById("msg").innerHTML="❌ Error: "+data.message;

    }

  })
  .catch(err=>{

    document.getElementById("msg").innerHTML="❌ Network Error";

  });

}

</script>

</body>
</html>
